(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4272:(e,t,n)=>{Promise.resolve().then(n.bind(n,2410))},2410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var l=n(7437),r=n(2265);function i(){return{player:null,combination:null}}function s(e){let t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let n=0;n<t.length;n++){let[l,r,i]=t[n];if(null!==e[l]&&e[l]===e[r]&&e[l]===e[i])return{player:e[l],combination:t[n]}}return i()}function a(e,t){return null!==e.player||!u(t)}function u(e){return e.some(e=>null===e)}var c=n(2544),o=n.n(c);function d(){return(0,l.jsx)("div",{className:"flex justify-center h-full",children:(0,l.jsx)("div",{className:"flex relative justify-center ".concat(o().shape)})})}function f(){return(0,l.jsx)("div",{className:"flex h-full justify-center",children:(0,l.jsx)("div",{className:"aspect-[2/3] rounded-[50%] shadow-[inset_0_0_0_var(--shape-width)_rgb(255,255,255)]"})})}let h=function(){for(var e,t,n=0,l="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=function e(t){var n,l,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(l=e(t[n]))&&(r&&(r+=" "),r+=l)}else for(l in t)t[l]&&(r&&(r+=" "),r+=l)}return r}(e))&&(l&&(l+=" "),l+=t);return l};function x(e){let{cell:t,isFaded:n,handleClick:r}=e;return(0,l.jsx)("div",{className:h("grid-cell flex flex-col aspect-square p-5 cursor-pointer transition hover:bg-neutral-200/10",{"opacity-10":n}),onClick:r,children:null!==t&&(t?(0,l.jsx)(d,{}):(0,l.jsx)(f,{}))})}var p=n(7517),m=n.n(p);function v(e){let{board:t,winner:n,handleClick:r,handleRestartGame:i}=e,s=a(n,t),u=t.map((e,t)=>{var i;let a=s&&!(null===(i=n.combination)||void 0===i?void 0:i.includes(t));return(0,l.jsx)(x,{isFaded:a,cell:e,handleClick:()=>r(t)},t)});return(0,l.jsxs)("div",{className:"w-full aspect-square relative",children:[(0,l.jsx)("div",{className:"\n                    ".concat(m().grid,"\n                    grid grid-cols-[repeat(3,1fr)] gap-px w-full\n                "),children:u}),s&&(0,l.jsx)("div",{className:"absolute inset-0 flex justify-center items-center bg-neutral-950/60",children:(0,l.jsx)("button",{type:"button",className:"p-3 bg-indigo-500 text-white text-3xl font-semibold rounded-md shadow focus:outline-none",onClick:i,children:"Restart"})})]})}function g(){return Array(9).fill(null)}let j=["hard","medium","easy"],y={hard:1,medium:.7,easy:.5};function b(e){let{score:t,isActive:n,children:r}=e;return(0,l.jsxs)("div",{className:h("grid grid-cols-[repeat(2,1fr)] p-2 h-full rounded-xl items-center",{"shadow-[0_0_10px_0_rgb(255,255,255)]":n}),children:[r,(0,l.jsx)("div",{className:"text-5xl text-center",children:t})]})}function _(e){let{difficultyLevel:t,handleChange:n}=e;return(0,l.jsx)("fieldset",{children:j.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"radio",id:e,name:e,value:e,checked:t===e,onChange:()=>n(e)}),(0,l.jsx)("label",{className:"p-2",htmlFor:e,children:e})]},e))})}function N(e){let{turn:t,score:n,difficultyLevel:r,handleChange:i}=e;return(0,l.jsxs)("div",{className:"grid w-full p-5 grid-cols-[repeat(3,1fr)] gap-x-4",children:[(0,l.jsx)(b,{score:n[1],isActive:1===t,children:(0,l.jsx)(d,{})}),(0,l.jsx)(b,{score:n[0],isActive:0===t,children:(0,l.jsx)(f,{})}),(0,l.jsx)(_,{difficultyLevel:r,handleChange:i})]})}let w=function(e,t){let n=(0,r.useRef)(e);(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null===t)return;let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])};function C(){let[e,t]=(0,r.useState)(1),[n,c]=(0,r.useState)(()=>g()),[o,d]=(0,r.useState)([0,0]),[f,x]=(0,r.useState)(i()),[p,m]=(0,r.useState)(!1),[j,b]=(0,r.useState)("hard"),_=(0,r.useCallback)((e,n,l,r)=>{let i=l.map((t,l)=>l===n?e:t);c(i),t(1===e?0:1);let u=s(i);if(x(u),null!==u.player&&a(u,i)){let e=[...r];e[u.player]+=1,d(e)}return i},[]),C=(0,r.useCallback)((e,t,n)=>{m(!0);let l=function(e,t){let n,l=1e3,r=-1;for(let i=0;i<e.length;i++)if(null===e[i]){void 0===n&&(n=i),e[i]=0;let a=function e(t,n,l){let r=function(e){switch(s(e).player){case 0:return -10;case 1:return 10;default:return 0}}(t);if(10===r||-10===r)return r;if(!u(t))return 0;if(l){let r=-1e3;for(let i=0;i<t.length;i++)null===t[i]&&(t[i]=1,r=Math.max(r,e(t,n+1,!l)),t[i]=null);return r}{let r=1e3;for(let i=0;i<t.length;i++)null===t[i]&&(t[i]=0,r=Math.min(r,e(t,n+1,!l)),t[i]=null);return r}}(e,0,!0);e[i]=null,a<l&&Math.random()<y[t]&&(l=a,r=i)}return -1!==r?r:null!=n?n:r}(e,n);-1!==l&&setTimeout(()=>{_(0,l,e,t),m(!1)},500)},[_]),k=(0,r.useCallback)((e,t,n,l,r,i)=>{0!==e||l||a(n,t)||C(t,r,i)},[C]);return w(()=>{k(e,n,f,p,o,j)},150),(0,l.jsxs)("div",{className:h("grid justify-center",{"_game-over":a(f,n)}),children:[(0,l.jsx)(N,{turn:e,score:o,difficultyLevel:j,handleChange:function(e){b(e)}}),(0,l.jsx)("div",{className:"grid grid-rows-[150px,auto] justify-items-center p-5 w-[min(100vw,calc(100vh-150px))] ",children:(0,l.jsx)(v,{board:n,winner:f,handleClick:function(t){1===e&&null===n[t]&&_(1,t,n,o)},handleRestartGame:function(){c(g()),x(i())}})})]})}},2544:e=>{e.exports={shape:"cross_shape__BgpVA"}},7517:e=>{e.exports={grid:"grid_grid__GYCmg"}}},e=>{var t=t=>e(e.s=t);e.O(0,[238,130,215,744],()=>t(4272)),_N_E=e.O()}]);