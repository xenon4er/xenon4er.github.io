(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4272:(e,n,t)=>{Promise.resolve().then(t.bind(t,1197))},1197:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>N});var l=t(7437),r=t(2265);function s(){return{player:null,combination:null}}function a(e){let n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let t=0;t<n.length;t++){let[l,r,s]=n[t];if(null!==e[l]&&e[l]===e[r]&&e[l]===e[s])return{player:e[l],combination:n[t]}}return s()}function c(e,n){return null!==e.player||!i(n)}function i(e){return e.some(e=>null===e)}var u=t(2544),o=t.n(u);function d(){return(0,l.jsx)("div",{className:"\n                flex\n                justify-center\n                h-full\n                ".concat(o()["game-cross"],"\n            "),children:(0,l.jsx)("div",{className:"\n                flex\n                relative\n                justify-center\n                ".concat(o()["game-cross__shape"],"\n            ")})})}function f(){return(0,l.jsx)("div",{className:"\n            flex\n            h-full\n            justify-center\n        ",children:(0,l.jsx)("div",{className:"\n                aspect-[2/3]\n                rounded-[50%]\n                shadow-[inset_0_0_0_var(--game-zero-width,1rem)_rgb(255,255,255)]\n            "})})}function p(e){let{value:n,isFaded:t,onClick:r}=e;return(0,l.jsx)("div",{className:"\n                game-cell\n                flex\n                flex-col\n                aspect-square\n                p-5\n                cursor-pointer\n                transition\n                hover:bg-neutral-200/10\n                ".concat(t?"opacity-10":"","\n            "),onClick:r,children:null===n?"":n?(0,l.jsx)(d,{}):(0,l.jsx)(f,{})})}var h=t(7517),m=t.n(h);function _(e){let{board:n,winner:t,handleClick:r,handleRestartGame:s}=e,a=c(t,n),i=n.map((e,n)=>{var s;let c=a&&!(null===(s=t.combination)||void 0===s?void 0:s.includes(n));return(0,l.jsx)(p,{isFaded:c,value:e,onClick:()=>r(n)},n)});return(0,l.jsxs)("div",{className:"w-full aspect-square relative",children:[(0,l.jsx)("div",{className:"\n                    ".concat(m()["game-grid"],"\n                    grid\n                    grid-cols-[repeat(3,1fr)]\n                    gap-px\n                    w-full\n                "),children:i}),a&&(0,l.jsx)("div",{className:"absolute inset-0 flex justify-center items-center bg-neutral-950/60",children:(0,l.jsx)("button",{type:"button",className:"p-3 bg-indigo-500 text-white text-3xl font-semibold rounded-md shadow focus:outline-none",onClick:s,children:"Restart"})})]})}var x=t(3146),g=t.n(x);function v(e){let{score:n,isActive:t,children:r}=e;return(0,l.jsxs)("div",{className:"\n                grid\n                grid-cols-[repeat(2,1fr)]\n                p-2\n                h-full\n                rounded-xl\n                items-center\n                ".concat(t?"shadow-[0_0_10px_0_rgb(255,255,255)]":"","\n                ").concat(g()["status-panel__player"],"\n            "),children:[r,(0,l.jsx)("div",{className:"\n                    text-5xl\n                    text-center\n                    ".concat(g()["status-panel__score"],"\n                "),children:n})]})}function j(e){let{turn:n,score:t,difficultyLevel:r,handleChange:s}=e;function a(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"radio",id:e,name:e,value:e,checked:r===e,onChange:()=>s(e)}),(0,l.jsx)("label",{className:"p-2",htmlFor:e,children:e})]})}return(0,l.jsxs)("div",{className:"\n                grid\n                w-full\n                p-5\n                grid-cols-[repeat(3,1fr)]\n                gap-x-4\n                ".concat(g()["status-panel"],"\n            "),children:[(0,l.jsx)(v,{score:t[1],isActive:1===n,children:(0,l.jsx)(d,{})}),(0,l.jsx)(v,{score:t[0],isActive:0===n,children:(0,l.jsx)(f,{})}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:"Select the game difficulty:"}),a("hard"),a("medium"),a("easy")]})]})}let y={hard:1,medium:.7,easy:.5},b=function(e,n){let t=(0,r.useRef)(e);(0,r.useEffect)(()=>{t.current=e},[e]),(0,r.useEffect)(()=>{if(null===n)return;let e=setInterval(()=>t.current(),n);return()=>clearInterval(e)},[n])};function N(){let[e,n]=(0,r.useState)(1),[t,u]=(0,r.useState)(Array(9).fill(null)),[o,d]=(0,r.useState)([0,0]),[f,p]=(0,r.useState)(s()),[h,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)("hard"),v=(0,r.useCallback)((e,t,l,r)=>{let s=l.map((n,l)=>l===t?e:n);u(s),n(1===e?0:1);let i=a(s);if(p(i),c(i,s)&&null!==i.player){let e=[...r];e[i.player]+=1,d(e)}return s},[]),N=(0,r.useCallback)((e,n,t)=>{m(!0);let l=function(e,n){let t,l=1e3,r=-1;for(let s=0;s<e.length;s++)if(null===e[s]){void 0===t&&(t=s),e[s]=0;let c=function e(n,t,l){let r=function(e){switch(a(e).player){case 0:return -10;case 1:return 10;default:return 0}}(n);if(10===r||-10===r)return r;if(!i(n))return 0;if(l){let r=-1e3;for(let s=0;s<n.length;s++)null===n[s]&&(n[s]=1,r=Math.max(r,e(n,t+1,!l)),n[s]=null);return r}{let r=1e3;for(let s=0;s<n.length;s++)null===n[s]&&(n[s]=0,r=Math.min(r,e(n,t+1,!l)),n[s]=null);return r}}(e,0,!0);e[s]=null,c<l&&Math.random()<y[n]&&(l=c,r=s)}return -1!==r?r:null!=t?t:r}(e,t);-1!==l&&setTimeout(()=>{v(0,l,e,n),m(!1)},500)},[v]),w=(0,r.useCallback)((e,n,t,l,r,s)=>{0!==e||l||c(t,n)||N(n,r,s)},[N]);return b(()=>{w(e,t,f,h,o,x)},150),(0,l.jsxs)("div",{className:"grid justify-center ".concat(c(f,t)?"_game-over":""),children:[(0,l.jsx)(j,{turn:e,score:o,difficultyLevel:x,handleChange:function(e){g(e)}}),(0,l.jsx)("div",{className:"grid grid-rows-[150px,auto] justify-items-center p-5 w-[min(100vw,calc(100vh-150px))] ",children:(0,l.jsx)(_,{board:t,winner:f,handleClick:function(n){1===e&&null===t[n]&&v(1,n,t,o)},handleRestartGame:function(){u(Array(9).fill(null)),p(s())}})})]})}},2544:e=>{e.exports={"game-cross":"cross_game-cross__0TMAj","game-cross__shape":"cross_game-cross__shape__0aP0a"}},7517:e=>{e.exports={"game-grid":"grid_game-grid__m0JTA"}},3146:e=>{e.exports={"status-panel":"status-panel_status-panel__8IP8M","status-panel__player":"status-panel_status-panel__player__6xNKX","status-panel__score":"status-panel_status-panel__score__gJ1rJ"}}},e=>{var n=n=>e(e.s=n);e.O(0,[702,130,215,744],()=>n(4272)),_N_E=e.O()}]);